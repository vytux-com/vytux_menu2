<!DOCTYPE html>
<!-- Copyright (C) 2013 Nigel Osborne and kiwtrees.net. All rights reserved. -->
<html  lang="en">
<head>
<meta charset="UTF-8">
<title>Simpl_add-ons ReadMe file</title>
<script>
addon	= "Simpl_menu2";
ver 	= "1.4.3";
</script>
<style type="text/css">
	html {background-color: #fffff0;}
	body {background-color: #fff; box-shadow: 5px 0 8px #ccc, -5px 0 8px #ccc; color: #444; font-family: sans-serif; font-size: 90%; line-height:1.5; margin:0 auto; padding:20px; width:80%;}
	header {position: fixed; top: 0; width: 80%; background: #fff; margin: 0 auto;}
	footer {background-color: #fffff0; font-size: 10px; padding:6px; border: 1px solid #ddd; opacity:0.75; overflow:auto;}
	a {color: #4682B4; font-weight: normal; text-decoration: none;}
	a:hover {color: #4682B4;}
	a img {border:none;}
	footer a {color:#555;}
	img.left {float:left;}
	img.right {float:right; margin-left:20px;}
	h1 {font-size:1.9em;}
	h2 {font-size:1.5em; color: #4682B4;}
	h3 {font-size:1.1em;}
	h4 {font-size:0.95em;}
	ol {-webkit-margin-before:0; -webkit-padding-start: 0;}
	ol li li{list-style-type:lower-alpha;}
	ul {-webkit-padding-start:0; font-weight:900;}
	li {line-height:150%; font-weight:normal; margin:0 0 10px 40px;}
	dl dt {font-weight: 900;}
	textarea {background-color:#eee; width:95%; padding:10px; min-height:120px; outline:none; resize:none; overflow:auto;}
	table {border-collapse:collapse;}
	th, td {border:1px solid #555; padding:5px;}
	tr td:first-child{white-space:nowrap;}
	td img {margin:10px; width:450px;}
	#content{margin-top:275px; min-height:500px; overflow: hidden; padding:20px 20px 20px 10px; text-align:justify;}
	.back {color: #4682B4; float:right;}
	.topbar{border-bottom:1px solid;text-align: right;line-height: 30px;}
	.ex_img{border:1px solid grey; max-width:100%; margin: 20px auto; display: block;}
	.note {font-style:italic;}
	.highlight {color:#ff0000;font-weight:900;}
	.trade {font-size:8px;vertical-align:top;}
	span.pointer {color:#008b00; font-style:italic;}
	#title{font-size: 1.9em; font-weight: normal; text-align: center; line-height: 30px; width: 80%;}
	nav {background: #fff; border-bottom: 3px solid #4682B4; overflow: hidden; padding:0; margin:0; text-transform: uppercase;}
	nav label {background:#ddd; border: 1px solid #ddd; border-bottom: 0; float:left; height:40px; line-height:40px; margin-left:1px; padding:0 20px; text-decoration:none;}
	nav label:first-child {margin-left:0;}
	nav label:hover {background: #fff url(readme_images/arrow_up.png) no-repeat center bottom; color:#4682B4;}
	input {display:none;}
	div.tab{display: none;}
	#describe:checked ~ #content div#tab_describe,#require:checked ~ #content div#tab_require,#support:checked ~ #content div#tab_support,#install:checked ~ #content div#tab_install, #setup:checked ~ #content div#tab_setup,#upgrading:checked ~ #content div#tab_upgrading,#translation:checked ~ #content div#tab_translation, #use:checked ~ #content div#tab_use, #faq:checked ~ #content div#tab_faq {display:block;}
	#describe:checked ~ header label#label_describe,#require:checked ~ header label#label_require,#support:checked ~ header label#label_support,#install:checked ~ header label#label_install,#setup:checked ~ header label#label_setup,#upgrading:checked ~ header label#label_upgrading,#translation:checked ~ header label#label_translation,#use:checked ~ header label#label_use, #faq:checked ~ header label#label_faq {color: #4682B4; background: #ddd url(readme_images/arrow_up.png) no-repeat center bottom;}
</style>
</head>
<body>
<input type="radio" id="describe" name="tab" checked="checked">
<input type="radio" id="require" name="tab">
<input type="radio" id="support" name="tab">
<input type="radio" id="install" name="tab">
<input type="radio" id="setup" name="tab">
<input type="radio" id="upgrading" name="tab">
<input type="radio" id="translation" name="tab">
<input type="radio" id="faq" name="tab">
<header>
	<div class="topbar">Get other "Simpl" add-ons for webtrees at <a href="http://kiwitrees.net/simpl-add-ons/" title="kiwitrees.net">kiwitrees.net</a></div>
	<img class="left" src="readme_images/simpl_1.png" alt="simpl_logo">
	<div id="title">
		<h3>ReadMe file</h3>
		<h2><script>document.write(addon);</script></h2>
		<h4>for webtrees</h4>
	</div>
	<nav>
		<label for="describe" id="label_describe">Description</label>
		<label for="require" id="label_require">Requirements</label>
		<label for="install" id="label_install">Installation</label>
		<label for="setup" id="label_setup">Setup</label>
		<label for="upgrading" id="label_upgrading">Upgrading</label>
		<label for="translation" id="label_translation">Translation</label>
		<label for="faq" id="label_faq">FAQs</label>
		<label for="support" id="label_support">Support</label>
	</nav>
</header>
<div id="content">
<!-- DESCRIPTION -->
<div class="tab" id="tab_describe">
This module allows you to add a menu to webtrees with sub-menu items that can be used to implement other software products within the webtrees framework. A typical example might be to add a forum, such as phpBB3.<br>
<img class="ex_img" src="readme_images/screenshot.png"/>
</div>
<!-- REQUIREMENTS -->
<div class="tab" id="tab_require">
This module requires webtrees version <script>document.write(ver);</script>.
</div>
<!-- SUPPORT -->
<div class="tab" id="tab_support">
Support for Simpl_add-ons is available only at the <a href="http://kiwitrees.net/forum/simpl_addons-support/" target="_blank" title="Kiwitrees forum pages">Kiwitrees forum pages.</a>
<p>Updates and bug-fixes will be announced on the <a href="http://kiwitrees.net/category/simpl_add-ons/kiwitrees" target="_blank" title="Simpl_add-ons blog pages">Simpl_add-ons blog pages</a>, and on <a href="https://twitter.com/@kiwi3685/" target="_blank" title="Follow me on Twitter">Twitter</a>.</p>
</div>
<!-- INSTALLATION -->
<div class="tab" id="tab_install">
	<img class="ex_img right" src="readme_images/simpl_menu2_menu.png">
	<ol>
		<li>Unzip the files and upload them to the webtrees/modules_v<span class="highlight">X</span>/ folder on your web server. (Note: "<span class="highlight">X</span>" = "3" at the time of writing this, but may change in future releases)</li>
		<li>Login to webtrees as administrator, go to <span class="pointer">Administration<img src="readme_images/arrow_right.png"/>Modules</span>, and find the module. It will be called "<script>document.write(addon);</script>". Check it has a tick for "Enabled"</li>
		<li>Next go to the "Menus" tab. Set the access level and position for the menu item to suit your preference. It will probably have defaulted to "Show only to managers".</li>
		<li>Finally click SAVE, to complete the basic installation. </li>
	</ol>
	<p>If you now refresh your Administration page you will see a new menu item near the bottom, as shown to the right here. You will need to use that during the "Setup" part of the installation process.</p>
</div>
<!-- SETUP -->
<div class="tab" id="tab_setup">
<p>There is just one main setup process, and some optional changes to consider.</p>
<ol>
	<li><strong>Create one menu item for each link you need.</strong><br>
        These are stored in the webtrees database, as "block settings". They are created by going to the "<script>document.write(addon);</script>" menu option in Administration (<span class="pointer">Administration<img src="readme_images/arrow_right.png"/><script>document.write(addon);</script></span>) then click on "Add menu item" to display the following screen.
        <img class="ex_img" src="readme_images/page_2.png">
        <ol style="list-style-type:lower-alpha;">
			<li>Give each menu item a title. This will be used in the menu drop-downs. It is important therefore to keep these titles short.</li>
			<li>Add the address (url) of the item you want this menu item to link to. For example "forum.php". <strong>NOTE:</strong> only web pages WITHIN your webtrees site site url can be accessed in this way.</li> 
			<li>Set the access level, to determine which users can see this menu item. </li>
			<li>Choose which languages to display this page for. This is the same as other similar options throughout webtrees. Select NONE of the available languages if you want it to display in ALL languages. Only select single languages if you are also planning to offer a similar translated version for other languages.</li>
			<li>Set the Menu position, relative to any other menu you might have already created. This determines where on the sub-menu list this menu appears. It can be changed later by simply using the up / down arrows on the <script>document.write(addon);</script> administration screen. The first item will also be the default when the main "Menu" item is clicked.</li>
			<li>Use "Menu visibility" to set if this menu item is to be seen when viewing all family trees on your site, or just one.</li>
			<li>Tick "Open menu in new tab or window" if you want that.</li>
			<li>Click "Save" to complete this process and create your menu list.
		</ol>	
	</li>
	<li><strong>Optional changes</strong>
		<ol style="list-style-type:lower-alpha;">
			<li>Menu item title: this is taken from the title of the module. By default it is "Menu". That can be changed in <script>document.write(addon);</script>/module.php. Look for this section near the beginning:
			<pre>public function getMenuTitle() {
	return WT_I18N::translate('Menu');
}</pre>
			Simply replace "('Menu')" with the word or SHORT phrase you prefer, such as "('My menus')".<br>
			BUT, if you only have one menu item, this title will be changed to the title of that menu item, and no sub-menu will be shown.</li>
			<li>Menu item icons: this module uses different icons for each theme, stored in the module's <i>themes/webtrees (or clouds, colors, xenea etc)</i> folder. If you want to use a different image, simply replace the one provided with your own, of an appropriate size for your preferred theme.
			<p class="highlight">When you add or change icons, you must also make corresponding changes in the same theme's <script>document.write(addon);</script>/themes/webtrees (or clouds, colors, xenea etc)/style.css file. The places where changes can be made are noted in comments in those files.</p>Do NOT replace images with ones of the same name, as they will be over-written on upgrading.</li>
			<li>General design of fonts, colors, etc: change these in all or any of the <script>document.write(addon);</script>/themes/webtrees (or clouds, colors, xenea etc)/style.css file, but remember that such changes will be over-written when you next upgrade, so keep notes of your changes.</li>
		</ol>
	</li>
	<li><strong>Sub-menu items</strong>
		If you want to add more than one menu item you can. But you will need to make some changes in the style sheet of each theme you use (in this modules' themes folder, not the main webtrees ones), and create some additional small icons. Details are in comments on the style sheet (style.css).
	</li>
</ol>
</div>
<!-- UPGRADING -->
<div class="tab" id="tab_upgrading">
	<p>There are some folder changes in this version, so it is a good idea to rename the old <script>document.write(addon);</script> folder, rather than over-write it, as that would not delete the no longer used folders. This will not effect any of your <script>document.write(addon);</script> settings as these are stored in the database, quite separate from the files.</p>
	<p>The steps for upgrading are:</p>
	<ol>
		<li>rename the old <script>document.write(addon);</script> folder (something like "simpl_menu2-old") on your server.
		<li>Install the new module as instructed under INSTALLATION above.</li>
		<li>If you made any "optional changes" to the code of the old menus, transfer those same changes, where applicable, to the new file.</li>
		<li>Check that everything is still working correctly. If it is, you can delete the old folder. </li>
	</ol>
</div>
<!-- Translation -->
<div class="tab" id="tab_translation">
Where possible <script>document.write(addon);</script> uses existing webtrees language items. These will therefore translate automatically wherever they are used.
<p>Any new language items use the same "WT_I18N::translate()" format but require additional translation files. Some might be included with this module in it's "language" folder. For languages NOT included you have two options:</p>
<ol>
	<li>You can translate them yourself using the process and any of the options in webtrees "custom translation" feature described here: <a href="http://wiki.webtrees.net/Custom_Translation" title="webtrees WIKI - Custom Translation">Wiki: Custom translation</a>, or </li>
	<li>you can email me the necessary translations. I will include them in the next release and if you wish supply you an immediate update for your own use. You can supply me the translation either in the form of a .po and compiled .mo file, or you can use the blank "en_US.po" file supplied in the modules' language/po_files/ folder. That is a simple text file you can edit in any text editor. Just add your translation for each item in it's empty "msgstr" line.
		<ul>NOTES:
			<li>Please be specific about your translation. Options such as "you can use xxxx or yyyy" to translate this" are not helpful. I don't have the knowledge of your language to make such a choice.</li>
			<li>Remember that certain phrases might need plural as well as singular versions or other variants.</li>
			<li>Some texts have a comment "Do not translate. Already in webtrees core." Do not translate those.</li>
		</ul>
	</li>
</ol>
<p>If you want to use a different set of translations to any supplied with this module you can do so either by changing the supplied .po/.mo files, or by deleting them and using your own custom translation file as described in 1. above.</p>
</div>
<!-- FAQs -->
<div class="tab" id="tab_faq">
<h4>Using multiple versions of this module</h4>
Sometimes it is desirable to use more than one copy of this module in the same site. This can be done fairly easily, but does need you to follow the following steps very carefully:
<ol>
	<li>Copy the entire simpl_menu2 module folder as something like "simpl_menu3", into the same webtrees/modules_v<span class="highlight">X</span>/ folder. The folder name can be anything, but I will use "simpl_menu3 for this explanation.</li>
	<li>Open the file module.php from this new folder in a text editor and change "simpl_menu2" to "simpl_menu3" in these places:
		<ol>
			<li>Line 28:<pre>class simpl_menu2_WT_Module extends WT_Module implements WT_Module_Menu, WT_Module_Block, WT_Module_Config {</pre></li>
			<li>Line 32:<pre>return 'Simpl_menu2';</pre></li>
		</ol>
	</li>
	<li>Open the file style.css from simpl_menu3/themes/webtrees (and / or any other themes you use) in a text editor and change "simpl_menu2" to "simpl_menu3" in the <b><u>10</u></b> places it appears.</li>
</ol>
You can now continue the installation and setup procedures as normal.
</div>
</div>
<footer>
	<a href="http://www.kiwitrees.net">
		<div style='float:left;'>
			This add-on for webtrees<span class="trade">&trade;</span> is provided by <b>kiwitrees</b><span class="trade">&trade;</span>
		</div>
		<div style='float:right;'>
			<b>kiwitrees</b><span class="trade">&trade;</span> is a division of <b>Solution Associates Limited</b>
		</div>
	</a>
</footer>
</body>
</html>
